## ë°˜ë³µì íŒ¨í„´

ì»¬ë ‰ì…˜ì˜ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë…¸ì¶œí•˜ì§€ ì•Šê³  ìˆœíšŒí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í„´

=> ë°°ì—´, íŠ¸ë¦¬, ê·¸ë˜í”„ ë“± ë‹¤ì–‘í•œ ìë£Œêµ¬ì¡°ë¥¼ ìˆœíšŒí•  ë•Œ ê°ê° ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•´ì•¼ í•˜ëŠ”ë°, ë°˜ë³µì íŒ¨í„´ì€ ì´ëŸ° ì°¨ì´ë¥¼ ì¶”ìƒí™”í•˜ì—¬ ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ìˆœíšŒí•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.
=> ê° í•­ëª©ì— ì¼ì¼ì´ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ì§‘í•©ì²´ê°€ ì•„ë‹Œ ë°˜ë³µì ê°ì²´ê°€ ì±…ì„ì§€ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì§‘í•©ì²´ ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì´ ê°„ë‹¨í•´ì§€ê³  ê°ìì—ê²Œ ì¤‘ìš”í•œ ì¼ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// ë°˜ë³µì ì¸í„°í˜ì´ìŠ¤
interface Iterator<T> {
  next(): T | null;
  hasNext(): boolean;
}

// ì»¬ë ‰ì…˜ ì¸í„°í˜ì´ìŠ¤
interface Iterable<T> {
  createIterator(): Iterator<T>;
}

// êµ¬ì²´ì ì¸ ì»¬ë ‰ì…˜
class CameraList implements Iterable<Camera> {
  private cameras: Camera[] = [];

  addCamera(camera: Camera) {
    this.cameras.push(camera);
  }

  createIterator(): Iterator<Camera> {
    return new CameraIterator(this.cameras);
  }
}

// êµ¬ì²´ì ì¸ ë°˜ë³µì
class CameraIterator implements Iterator<Camera> {
  private position = 0;

  constructor(private cameras: Camera[]) {}

  next(): Camera | null {
    if (this.hasNext()) {
      return this.cameras[this.position++];
    }
    return null;
  }

  hasNext(): boolean {
    return this.position < this.cameras.length;
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const cameraList = new CameraList();
cameraList.addCamera(camera1);
cameraList.addCamera(camera2);

const iterator = cameraList.createIterator();
while (iterator.hasNext()) {
  const camera = iterator.next();
  console.log(camera);
}
```

=> `for of`, `forEach()`, `function*`ì´ ëª¨ë‘ ë°˜ë³µì íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.
=> ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ì˜ í˜ì´ì§€ë„¤ì´ì…˜ ì²˜ë¦¬ë‚˜ ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„ì—ë„ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì»´í¬ì§€íŠ¸ íŒ¨í„´

ê°ì²´ë“¤ì„ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ êµ¬ì„±í•˜ì—¬ ê°œë³„ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ ë™ì¼í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.

íŒŒì¼/í´ë” êµ¬ì¡°, UI ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ, ì¡°ì§ë„ ì²˜ëŸ¼ ë¶€ë¶„-ì „ì²´ ê³„ì¸µì„ í‘œí˜„í•  ë•Œ ê°œë³„ ìš”ì†Œì™€ ê·¸ë£¹ì„ ë˜‘ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ êµ¬ì¡° ìì²´ê°€ ì»´í¬ì§€íŠ¸ íŒ¨í„´ì…ë‹ˆë‹¤.

![alt text](image-8.png)

![alt text](image-9.png)

```js
// ê³µí†µ ì¸í„°í˜ì´ìŠ¤
interface DeviceComponent {
  getName(): string;
  getStatus(): string;
  display(depth: number): void;
}

// Leaf (ê°œë³„ ê°ì²´)
class Camera implements DeviceComponent {
  constructor(private name: string, private status: string) {}

  getName(): string {
    return this.name;
  }

  getStatus(): string {
    return this.status;
  }

  display(depth: number): void {
    console.log(`${'  '.repeat(depth)}ğŸ“· ${this.name} - ${this.status}`);
  }
}

// Composite (ë³µí•© ê°ì²´)
class DeviceGroup implements DeviceComponent {
  private children: DeviceComponent[] = [];

  constructor(private name: string) {}

  add(component: DeviceComponent): void {
    this.children.push(component);
  }

  remove(component: DeviceComponent): void {
    const index = this.children.indexOf(component);
    if (index !== -1) {
      this.children.splice(index, 1);
    }
  }

  getName(): string {
    return this.name;
  }

  getStatus(): string {
    const activeCount = this.children.filter(
      child => child.getStatus() === 'active'
    ).length;
    return `${activeCount}/${this.children.length} active`;
  }

  display(depth: number): void {
    console.log(`${'  '.repeat(depth)}ğŸ“ ${this.name} - ${this.getStatus()}`);
    this.children.forEach(child => child.display(depth + 1));
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const building1F = new DeviceGroup('1ì¸µ');
building1F.add(new Camera('ë¡œë¹„ ì¹´ë©”ë¼', 'active'));
building1F.add(new Camera('ì…êµ¬ ì¹´ë©”ë¼', 'active'));

const building2F = new DeviceGroup('2ì¸µ');
building2F.add(new Camera('ë³µë„ ì¹´ë©”ë¼', 'inactive'));

const building = new DeviceGroup('ë³¸ê´€');
building.add(building1F);
building.add(building2F);

building.display(0);
// ğŸ“ ë³¸ê´€ - 2/3 active
//   ğŸ“ 1ì¸µ - 2/2 active
//     ğŸ“· ë¡œë¹„ ì¹´ë©”ë¼ - active
//     ğŸ“· ì…êµ¬ ì¹´ë©”ë¼ - active
//   ğŸ“ 2ì¸µ - 0/1 active
//     ğŸ“· ë³µë„ ì¹´ë©”ë¼ - inactive
```

ì¥ì  : í´ë¼ì´ì–¸íŠ¸ë¥¼ ë‹¨ìˆœí™” ì‹œí‚¬ ìˆ˜ ìˆë‹¤ / ë©”ì†Œë“œ í•˜ë‚˜ë§Œ í˜¸ì¶œí•˜ë©´ ì „ì²´ êµ¬ì¡°ë¥¼ ëŒ€ìƒìœ¼ë¡œ ë°˜ë³µ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
